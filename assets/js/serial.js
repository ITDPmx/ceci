!function(){var t=window.AmCharts;t.AmSerialChart=t.Class({inherits:t.AmRectangularChart,construct:function(i){this.type="serial",t.AmSerialChart.base.construct.call(this,i),this.cname="AmSerialChart",this.theme=i,this.createEvents("changed"),this.columnSpacing=5,this.columnSpacing3D=0,this.columnWidth=.8,this.updateScrollbar=!0;var e=new t.CategoryAxis(i);e.chart=this,this.categoryAxis=e,this.zoomOutOnDataUpdate=!0,this.mouseWheelZoomEnabled=this.mouseWheelScrollEnabled=this.rotate=this.skipZoom=!1,this.minSelectedTime=0,t.applyTheme(this,i,this.cname)},initChart:function(){t.AmSerialChart.base.initChart.call(this),this.updateCategoryAxis(this.categoryAxis,this.rotate,"categoryAxis"),this.dataChanged&&(this.updateData(),this.dataChanged=!1,this.dispatchDataUpdated=!0);var i=this.chartCursor;i&&i.updateData&&(i.updateData(),i.fullWidth&&(i.fullRectSet=this.cursorLineSet));var e,i=this.countColumns(),a=this.graphs;for(e=0;e<a.length;e++)a[e].columnCount=i;this.updateScrollbar=!0,this.drawChart(),this.autoMargins&&!this.marginsUpdated&&(this.marginsUpdated=!0,this.measureMargins())},handleWheelReal:function(t,i){if(!this.wheelBusy){var e=this.categoryAxis,a=e.parseDates,s=e.minDuration(),h=e=1;this.mouseWheelZoomEnabled?i||(e=-1):i&&(e=-1);var r=this.chartData.length,o=this.lastTime,n=this.firstTime;0>t?a?(r=this.endTime-this.startTime,a=this.startTime+e*s,s=this.endTime+h*s,h>0&&e>0&&s>=o&&(s=o,a=o-r),this.zoomToDates(new Date(a),new Date(s))):(h>0&&e>0&&this.end>=r-1&&(e=h=0),a=this.start+e,s=this.end+h,this.zoomToIndexes(a,s)):a?(r=this.endTime-this.startTime,a=this.startTime-e*s,s=this.endTime-h*s,h>0&&e>0&&n>=a&&(a=n,s=n+r),this.zoomToDates(new Date(a),new Date(s))):(h>0&&e>0&&1>this.start&&(e=h=0),a=this.start-e,s=this.end-h,this.zoomToIndexes(a,s))}},validateData:function(i){this.marginsUpdated=!1,this.zoomOutOnDataUpdate&&!i&&(this.endTime=this.end=this.startTime=this.start=NaN),t.AmSerialChart.base.validateData.call(this)},drawChart:function(){if(0<this.realWidth&&0<this.realHeight){t.AmSerialChart.base.drawChart.call(this);var i=this.chartData;if(t.ifArray(i)){var e=this.chartScrollbar;e&&e.draw();var a,i=i.length-1,e=this.categoryAxis;e.parseDates&&!e.equalSpacing?(e=this.startTime,a=this.endTime,(isNaN(e)||isNaN(a))&&(e=this.firstTime,a=this.lastTime)):(e=this.start,a=this.end,(isNaN(e)||isNaN(a))&&(e=0,a=i)),this.endTime=this.startTime=this.end=this.start=void 0,this.zoom(e,a)}}else this.cleanChart();this.dispDUpd()},cleanChart:function(){t.callMethod("destroy",[this.valueAxes,this.graphs,this.categoryAxis,this.chartScrollbar,this.chartCursor])},updateCategoryAxis:function(i,e,a){i.chart=this,i.id=a,i.rotate=e,i.axisRenderer=t.RecAxis,i.guideFillRenderer=t.RecFill,i.axisItemRenderer=t.RecItem,i.setOrientation(!this.rotate),i.x=this.marginLeftReal,i.y=this.marginTopReal,i.dx=this.dx,i.dy=this.dy,i.width=this.plotAreaWidth-1,i.height=this.plotAreaHeight-1,i.viW=this.plotAreaWidth-1,i.viH=this.plotAreaHeight-1,i.viX=this.marginLeftReal,i.viY=this.marginTopReal,i.marginsChanged=!0},updateValueAxes:function(){t.AmSerialChart.base.updateValueAxes.call(this);var i,e=this.valueAxes;for(i=0;i<e.length;i++){var a=e[i],s=this.rotate;a.rotate=s,a.setOrientation(s),s=this.categoryAxis,s.startOnAxis&&!s.parseDates||(a.expandMinMax=!0)}},updateData:function(){this.parseData();var t,i=this.graphs,e=this.chartData;for(t=0;t<i.length;t++)i[t].data=e;0<e.length&&(this.firstTime=this.getStartTime(e[0].time),this.lastTime=this.getEndTime(e[e.length-1].time))},getStartTime:function(i){var e=this.categoryAxis;return t.resetDateToMin(new Date(i),e.minPeriod,1,e.firstDayOfWeek).getTime()},getEndTime:function(i){var e=t.extractPeriod(this.categoryAxis.minPeriod);return t.changeDate(new Date(i),e.period,e.count,!0).getTime()-1},updateMargins:function(){t.AmSerialChart.base.updateMargins.call(this);var i=this.chartScrollbar;i&&(this.getScrollbarPosition(i,this.rotate,this.categoryAxis.position),this.adjustMargins(i,this.rotate))},updateScrollbars:function(){t.AmSerialChart.base.updateScrollbars.call(this),this.updateChartScrollbar(this.chartScrollbar,this.rotate)},zoom:function(t,i){var e=this.categoryAxis;e.parseDates&&!e.equalSpacing?this.timeZoom(t,i):this.indexZoom(t,i),this.updateLegendValues()},timeZoom:function(i,e){var a=this.maxSelectedTime;isNaN(a)||(e!=this.endTime&&e-i>a&&(i=e-a,this.updateScrollbar=!0),i!=this.startTime&&e-i>a&&(e=i+a,this.updateScrollbar=!0));var s=this.minSelectedTime;if(s>0&&s>e-i){var h=Math.round(i+(e-i)/2),s=Math.round(s/2);i=h-s,e=h+s}var r=this.chartData,h=this.categoryAxis;if(t.ifArray(r)&&(i!=this.startTime||e!=this.endTime)){var o=h.minDuration(),s=this.firstTime,n=this.lastTime;i||(i=s,isNaN(a)||(i=n-a)),e||(e=n),i>n&&(i=n),s>e&&(e=s),s>i&&(i=s),e>n&&(e=n),i>e&&(e=i+o),o/5>e-i&&(n>e?e=i+o/5:i=e-o/5),this.startTime=i,this.endTime=e,a=r.length-1,o=this.getClosestIndex(r,"time",i,!0,0,a),r=this.getClosestIndex(r,"time",e,!1,o,a),h.timeZoom(i,e),h.zoom(o,r),this.start=t.fitToBounds(o,0,a),this.end=t.fitToBounds(r,0,a),this.zoomAxesAndGraphs(),this.zoomScrollbar(),i!=s||e!=n?this.showZB(!0):this.showZB(!1),this.updateColumnsDepth(),this.dispatchTimeZoomEvent()}},updateAfterValueZoom:function(){this.zoomAxesAndGraphs(),this.zoomScrollbar(),this.updateColumnsDepth()},indexZoom:function(t,i){var e=this.maxSelectedSeries;if(isNaN(e)||(i!=this.end&&i-t>e&&(t=i-e,this.updateScrollbar=!0),t!=this.start&&i-t>e&&(i=t+e,this.updateScrollbar=!0)),t!=this.start||i!=this.end){var a=this.chartData.length-1;isNaN(t)&&(t=0,isNaN(e)||(t=a-e)),isNaN(i)&&(i=a),t>i&&(i=t),i>a&&(i=a),t>a&&(t=a-1),0>t&&(t=0),this.start=t,this.end=i,this.categoryAxis.zoom(t,i),this.zoomAxesAndGraphs(),this.zoomScrollbar(),0!==t||i!=this.chartData.length-1?this.showZB(!0):this.showZB(!1),this.updateColumnsDepth(),this.dispatchIndexZoomEvent()}},updateGraphs:function(){t.AmSerialChart.base.updateGraphs.call(this);var i,e=this.graphs;for(i=0;i<e.length;i++){var a=e[i];a.columnWidthReal=this.columnWidth,a.categoryAxis=this.categoryAxis,t.isString(a.fillToGraph)&&(a.fillToGraph=this.getGraphById(a.fillToGraph))}},updateColumnsDepth:function(){var i,e,a=this.graphs;for(t.remove(this.columnsSet),this.columnsArray=[],i=0;i<a.length;i++){e=a[i];var s=e.columnsArray;if(s){var h;for(h=0;h<s.length;h++)this.columnsArray.push(s[h])}}if(this.columnsArray.sort(this.compareDepth),0<this.columnsArray.length){for(a=this.container.set(),this.columnSet.push(a),i=0;i<this.columnsArray.length;i++)a.push(this.columnsArray[i].column.set);e&&a.translate(e.x,e.y),this.columnsSet=a}},compareDepth:function(t,i){return t.depth>i.depth?1:-1},zoomScrollbar:function(){var t=this.chartScrollbar,i=this.categoryAxis;t&&this.updateScrollbar&&t.enabled&&t.dragger&&(t.dragger.stop(),i.parseDates&&!i.equalSpacing?t.timeZoom(this.startTime,this.endTime):t.zoom(this.start,this.end),this.updateScrollbar=!0)},updateTrendLines:function(){var i,e=this.trendLines;for(i=0;i<e.length;i++){var a=e[i],a=t.processObject(a,t.TrendLine,this.theme);e[i]=a,a.chart=this,a.id||(a.id="trendLineAuto"+i+"_"+(new Date).getTime()),t.isString(a.valueAxis)&&(a.valueAxis=this.getValueAxisById(a.valueAxis)),a.valueAxis||(a.valueAxis=this.valueAxes[0]),a.categoryAxis=this.categoryAxis}},zoomAxesAndGraphs:function(){if(!this.scrollbarOnly){var t,i=this.valueAxes;for(t=0;t<i.length;t++)i[t].zoom(this.start,this.end);for(i=this.graphs,t=0;t<i.length;t++)i[t].zoom(this.start,this.end);this.zoomTrendLines(),(t=this.chartCursor)&&t.zoom&&t.zoom(this.start,this.end,this.startTime,this.endTime)}},countColumns:function(){var t,i,e,a,s=0,h=this.valueAxes.length,r=this.graphs.length,o=!1;for(a=0;h>a;a++){i=this.valueAxes[a];var n=i.stackType;if("100%"==n||"regular"==n)for(o=!1,e=0;r>e;e++)t=this.graphs[e],t.tcc=1,t.valueAxis==i&&"column"==t.type&&(!o&&t.stackable&&(s++,o=!0),(!t.stackable&&t.clustered||t.newStack)&&s++,t.columnIndex=s-1,t.clustered||(t.columnIndex=0));if("none"==n||"3d"==n){for(o=!1,e=0;r>e;e++)t=this.graphs[e],t.valueAxis==i&&"column"==t.type&&(t.clustered?(t.tcc=1,t.newStack&&(s=0),t.hidden||(t.columnIndex=s,s++)):t.hidden||(o=!0,t.tcc=1,t.columnIndex=0));o&&0===s&&(s=1)}if("3d"==n){for(i=1,a=0;r>a;a++)t=this.graphs[a],t.newStack&&i++,t.depthCount=i,t.tcc=s;s=i}}return s},parseData:function(){t.AmSerialChart.base.parseData.call(this),this.parseSerialData(this.dataProvider)},getCategoryIndexByValue:function(t){var i,e,a=this.chartData;for(e=0;e<a.length;e++)a[e].category==t&&(i=e);return i},handleCursorChange:function(t){this.updateLegendValues(t.index)},handleCursorZoom:function(t){this.updateScrollbar=!0,this.zoom(t.start,t.end)},handleScrollbarZoom:function(t){this.updateScrollbar=!1,this.zoom(t.start,t.end)},dispatchTimeZoomEvent:function(){if(this.prevStartTime!=this.startTime||this.prevEndTime!=this.endTime){var i={type:"zoomed"};i.startDate=new Date(this.startTime),i.endDate=new Date(this.endTime),i.startIndex=this.start,i.endIndex=this.end,this.startIndex=this.start,this.endIndex=this.end,this.startDate=i.startDate,this.endDate=i.endDate,this.prevStartTime=this.startTime,this.prevEndTime=this.endTime;var e=this.categoryAxis,a=t.extractPeriod(e.minPeriod).period,e=e.dateFormatsObject[a];i.startValue=t.formatDate(i.startDate,e,this),i.endValue=t.formatDate(i.endDate,e,this),i.chart=this,i.target=this,this.fire(i.type,i)}},dispatchIndexZoomEvent:function(){if(this.prevStartIndex!=this.start||this.prevEndIndex!=this.end){this.startIndex=this.start,this.endIndex=this.end;var i=this.chartData;if(t.ifArray(i)&&!isNaN(this.start)&&!isNaN(this.end)){var e={chart:this,target:this,type:"zoomed"};e.startIndex=this.start,e.endIndex=this.end,e.startValue=i[this.start].category,e.endValue=i[this.end].category,this.categoryAxis.parseDates&&(this.startTime=i[this.start].time,this.endTime=i[this.end].time,e.startDate=new Date(this.startTime),e.endDate=new Date(this.endTime)),this.prevStartIndex=this.start,this.prevEndIndex=this.end,this.fire(e.type,e)}}},updateLegendValues:function(t){var i,e=this.graphs;for(i=0;i<e.length;i++){var a=e[i];isNaN(t)?a.currentDataItem=void 0:a.currentDataItem=this.chartData[t].axes[a.valueAxis.id].graphs[a.id]}this.legend&&this.legend.updateValues()},getClosestIndex:function(t,i,e,a,s,h){0>s&&(s=0),h>t.length-1&&(h=t.length-1);var r=s+Math.round((h-s)/2),o=t[r][i];return e==o?r:1>=h-s?a?s:(a=t[h][i],Math.abs(t[s][i]-e)<Math.abs(a-e)?s:h):e==o?r:o>e?this.getClosestIndex(t,i,e,a,s,r):this.getClosestIndex(t,i,e,a,r,h)},zoomToIndexes:function(t,i){this.updateScrollbar=!0;var e=this.chartData;if(e){var a=e.length;a>0&&(0>t&&(t=0),i>a-1&&(i=a-1),a=this.categoryAxis,a.parseDates&&!a.equalSpacing?this.zoom(e[t].time,this.getEndTime(e[i].time)):this.zoom(t,i))}},zoomToDates:function(i,e){this.updateScrollbar=!0;var a=this.chartData;if(this.categoryAxis.equalSpacing){var s=this.getClosestIndex(a,"time",i.getTime(),!0,0,a.length);e=t.resetDateToMin(e,this.categoryAxis.minPeriod,1),a=this.getClosestIndex(a,"time",e.getTime(),!1,0,a.length),this.zoom(s,a)}else this.zoom(i.getTime(),e.getTime())},zoomToCategoryValues:function(t,i){this.updateScrollbar=!0,this.zoom(this.getCategoryIndexByValue(t),this.getCategoryIndexByValue(i))},formatPeriodString:function(i,e){if(e){var a=["value","open","low","high","close"],s="value open low high close average sum count".split(" "),h=e.valueAxis,r=this.chartData,o=e.numberFormatter;o||(o=this.nf);for(var n=0;n<a.length;n++){for(var d,l,c,u,m,g,p,f,x,v,D=a[n],T=0,b=0,y=0,A=0,N=this.start;N<=this.end;N++){var C=r[N];if(C&&(C=C.axes[h.id].graphs[e.id])){if(C.values){var S=C.values[D];if(this.rotate?(0>C.x||C.x>C.graph.height)&&(S=NaN):(0>C.x||C.x>C.graph.width)&&(S=NaN),!isNaN(S)){isNaN(d)&&(d=S),l=S,(isNaN(c)||c>S)&&(c=S),(isNaN(u)||S>u)&&(u=S),m=t.getDecimals(T);var w=t.getDecimals(S),T=T+S,T=t.roundTo(T,Math.max(m,w));b++,m=T/b}}C.percents&&(C=C.percents[D],!isNaN(C))&&(isNaN(g)&&(g=C),p=C,(isNaN(f)||f>C)&&(f=C),(isNaN(x)||C>x)&&(x=C),v=t.getDecimals(y),S=t.getDecimals(C),y+=C,y=t.roundTo(y,Math.max(v,S)),A++,v=y/A)}}y={open:g,close:p,high:x,low:f,average:v,sum:y,count:A},i=t.formatValue(i,{open:d,close:l,high:u,low:c,average:m,sum:T,count:b},s,o,D+"\\.",this.usePrefixes,this.prefixesOfSmallNumbers,this.prefixesOfBigNumbers),i=t.formatValue(i,y,s,this.pf,"percents\\."+D+"\\.")}}return i=t.cleanFromEmpty(i)},formatString:function(i,e,a){var s=e.graph;if(-1!=i.indexOf("[[category]]")){var h=e.serialDataItem.category;if(this.categoryAxis.parseDates){var r=this.balloonDateFormat,o=this.chartCursor;o&&(r=o.categoryBalloonDateFormat),-1!=i.indexOf("[[category]]")&&(r=t.formatDate(h,r,this),-1!=r.indexOf("fff")&&(r=t.formatMilliseconds(r,h)),h=r)}i=i.replace(/\[\[category\]\]/g,String(h))}return h=s.numberFormatter,h||(h=this.nf),r=e.graph.valueAxis,(o=r.duration)&&!isNaN(e.values.value)&&(o=t.formatDuration(e.values.value,o,"",r.durationUnits,r.maxInterval,h),i=i.replace(RegExp("\\[\\[value\\]\\]","g"),o)),"date"==r.type&&(r=t.formatDate(new Date(e.values.value),s.dateFormat,this),o=RegExp("\\[\\[value\\]\\]","g"),i=i.replace(o,r),r=t.formatDate(new Date(e.values.open),s.dateFormat,this),o=RegExp("\\[\\[open\\]\\]","g"),i=i.replace(o,r)),s="value open low high close total".split(" "),r=this.pf,i=t.formatValue(i,e.percents,s,r,"percents\\."),i=t.formatValue(i,e.values,s,h,"",this.usePrefixes,this.prefixesOfSmallNumbers,this.prefixesOfBigNumbers),i=t.formatValue(i,e.values,["percents"],r),-1!=i.indexOf("[[")&&(i=t.formatDataContextValue(i,e.dataContext)),-1!=i.indexOf("[[")&&e.graph.customData&&(i=t.formatDataContextValue(i,e.graph.customData)),i=t.AmSerialChart.base.formatString.call(this,i,e,a)},addChartScrollbar:function(i){t.callMethod("destroy",[this.chartScrollbar]),i&&(i.chart=this,this.listenTo(i,"zoomed",this.handleScrollbarZoom)),this.rotate?void 0===i.width&&(i.width=i.scrollbarHeight):void 0===i.height&&(i.height=i.scrollbarHeight),this.chartScrollbar=i},removeChartScrollbar:function(){t.callMethod("destroy",[this.chartScrollbar]),this.chartScrollbar=null},handleReleaseOutside:function(i){t.AmSerialChart.base.handleReleaseOutside.call(this,i),t.callMethod("handleReleaseOutside",[this.chartScrollbar])},update:function(){t.AmSerialChart.base.update.call(this),this.chartScrollbar&&this.chartScrollbar.update&&this.chartScrollbar.update()}})}(),function(){var t=window.AmCharts;t.Cuboid=t.Class({construct:function(t,i,e,a,s,h,r,o,n,d,l,c,u,m,g,p,f){this.set=t.set(),this.container=t,this.h=Math.round(e),this.w=Math.round(i),this.dx=a,this.dy=s,this.colors=h,this.alpha=r,this.bwidth=o,this.bcolor=n,this.balpha=d,this.dashLength=m,this.topRadius=p,this.pattern=g,this.rotate=u,this.bcn=f,u?0>i&&0===l&&(l=180):0>e&&270==l&&(l=90),this.gradientRotation=l,0===a&&0===s&&(this.cornerRadius=c),this.draw()},draw:function(){var i=this.set;i.clear();var e=this.container,a=e.chart,s=this.w,h=this.h,r=this.dx,o=this.dy,n=this.colors,d=this.alpha,l=this.bwidth,c=this.bcolor,u=this.balpha,m=this.gradientRotation,g=this.cornerRadius,p=this.dashLength,f=this.pattern,x=this.topRadius,v=this.bcn,D=n,T=n;"object"==typeof n&&(D=n[0],T=n[n.length-1]);var b,y,A,N,C,S,w,M,I,R=d;f&&(d=0);var W,P,L,V,z=this.rotate;if(0<Math.abs(r)||0<Math.abs(o))if(isNaN(x))w=T,T=t.adjustLuminosity(D,-.2),T=t.adjustLuminosity(D,-.2),b=t.polygon(e,[0,r,s+r,s,0],[0,o,o,0,0],T,d,1,c,0,m),u>0&&(I=t.line(e,[0,r,s+r],[0,o,o],c,u,l,p)),y=t.polygon(e,[0,0,s,s,0],[0,h,h,0,0],T,d,1,c,0,m),y.translate(r,o),u>0&&(A=t.line(e,[r,r],[o,o+h],c,u,l,p)),N=t.polygon(e,[0,0,r,r,0],[0,h,h+o,o,0],T,d,1,c,0,m),C=t.polygon(e,[s,s,s+r,s+r,s],[0,h,h+o,o,0],T,d,1,c,0,m),u>0&&(S=t.line(e,[s,s+r,s+r,s],[0,o,h+o,h],c,u,l,p)),T=t.adjustLuminosity(w,.2),w=t.polygon(e,[0,r,s+r,s,0],[h,h+o,h+o,h,h],T,d,1,c,0,m),u>0&&(M=t.line(e,[0,r,s+r],[h,h+o,h+o],c,u,l,p));else{var O,F,B;z?(O=h/2,T=r/2,B=h/2,F=s+r/2,P=Math.abs(h/2),W=Math.abs(r/2)):(T=s/2,O=o/2,F=s/2,B=h+o/2+1,W=Math.abs(s/2),P=Math.abs(o/2)),L=W*x,V=P*x,W>.1&&W>.1&&(b=t.circle(e,W,D,d,l,c,u,!1,P),b.translate(T,O)),L>.1&&L>.1&&(w=t.circle(e,L,t.adjustLuminosity(D,.5),d,l,c,u,!1,V),w.translate(F,B))}for(d=R,1>Math.abs(h)&&(h=0),1>Math.abs(s)&&(s=0),!isNaN(x)&&(0<Math.abs(r)||0<Math.abs(o))?(n=[D],n={fill:n,stroke:c,"stroke-width":l,"stroke-opacity":u,"fill-opacity":d},z?(d="M0,0 L"+s+","+(h/2-h/2*x),l=" B",s>0&&(l=" A"),t.VML?(d+=l+Math.round(s-L)+","+Math.round(h/2-V)+","+Math.round(s+L)+","+Math.round(h/2+V)+","+s+",0,"+s+","+h,d=d+(" L0,"+h)+(l+Math.round(-W)+","+Math.round(h/2-P)+","+Math.round(W)+","+Math.round(h/2+P)+",0,"+h+",0,0")):(d+="A"+L+","+V+",0,0,0,"+s+","+(h-h/2*(1-x))+"L0,"+h,d+="A"+W+","+P+",0,0,1,0,0"),W=90):(l=s/2-s/2*x,d="M0,0 L"+l+","+h,t.VML?(d="M0,0 L"+l+","+h,l=" B",0>h&&(l=" A"),d+=l+Math.round(s/2-L)+","+Math.round(h-V)+","+Math.round(s/2+L)+","+Math.round(h+V)+",0,"+h+","+s+","+h,d+=" L"+s+",0",d+=l+Math.round(s/2+W)+","+Math.round(P)+","+Math.round(s/2-W)+","+Math.round(-P)+","+s+",0,0,0"):(d+="A"+L+","+V+",0,0,0,"+(s-s/2*(1-x))+","+h+"L"+s+",0",d+="A"+W+","+P+",0,0,1,0,0"),W=180),e=e.path(d).attr(n),e.gradient("linearGradient",[D,t.adjustLuminosity(D,-.3),t.adjustLuminosity(D,-.3),D],W),z?e.translate(r/2,0):e.translate(0,o/2)):e=0===h?t.line(e,[0,s],[0,0],c,u,l,p):0===s?t.line(e,[0,0],[0,h],c,u,l,p):g>0?t.rect(e,s,h,n,d,l,c,u,g,m,p):t.polygon(e,[0,0,s,s,0],[0,h,h,0,0],n,d,l,c,u,m,!1,p),s=isNaN(x)?0>h?[b,I,y,A,N,C,S,w,M,e]:[w,M,y,A,N,C,b,I,S,e]:z?s>0?[b,e,w]:[w,e,b]:0>h?[b,e,w]:[w,e,b],t.setCN(a,e,v+"front"),t.setCN(a,y,v+"back"),t.setCN(a,w,v+"top"),t.setCN(a,b,v+"bottom"),t.setCN(a,N,v+"left"),t.setCN(a,C,v+"right"),b=0;b<s.length;b++)(y=s[b])&&(i.push(y),t.setCN(a,y,v+"element"));f&&e.pattern(f,NaN,a.path)},width:function(t){isNaN(t)&&(t=0),this.w=Math.round(t),this.draw()},height:function(t){isNaN(t)&&(t=0),this.h=Math.round(t),this.draw()},animateHeight:function(i,e){var a=this;a.easing=e,a.totalFrames=Math.round(1e3*i/t.updateRate),a.rh=a.h,a.frame=0,a.height(1),setTimeout(function(){a.updateHeight.call(a)},t.updateRate)},updateHeight:function(){var i=this;i.frame++;var e=i.totalFrames;i.frame<=e&&(e=i.easing(0,i.frame,1,i.rh-1,e),i.height(e),setTimeout(function(){i.updateHeight.call(i)},t.updateRate))},animateWidth:function(i,e){var a=this;a.easing=e,a.totalFrames=Math.round(1e3*i/t.updateRate),a.rw=a.w,a.frame=0,a.width(1),setTimeout(function(){a.updateWidth.call(a)},t.updateRate)},updateWidth:function(){var i=this;i.frame++;var e=i.totalFrames;i.frame<=e&&(e=i.easing(0,i.frame,1,i.rw-1,e),i.width(e),setTimeout(function(){i.updateWidth.call(i)},t.updateRate))}})}(),function(){var t=window.AmCharts;t.CategoryAxis=t.Class({inherits:t.AxisBase,construct:function(i){this.cname="CategoryAxis",t.CategoryAxis.base.construct.call(this,i),this.minPeriod="DD",this.equalSpacing=this.parseDates=!1,this.position="bottom",this.startOnAxis=!1,this.firstDayOfWeek=1,this.gridPosition="middle",this.markPeriodChange=this.boldPeriodBeginning=!0,this.safeDistance=30,this.centerLabelOnFullPeriod=!0,t.applyTheme(this,i,this.cname)},draw:function(){t.CategoryAxis.base.draw.call(this),this.generateDFObject();var i=this.chart.chartData;if(this.data=i,this.labelRotationR=this.labelRotation,t.ifArray(i)){var e,a=this.chart;"scrollbar"!=this.id?(t.setCN(a,this.set,"category-axis"),t.setCN(a,this.labelsSet,"category-axis"),t.setCN(a,this.axisLine.axisSet,"category-axis")):this.bcn=this.id+"-";var s,h,r,o,n,d,l=this.start,c=this.labelFrequency,u=0,m=this.end-l+1,g=this.gridCountR,p=this.showFirstLabel,f=this.showLastLabel,x="",x=t.extractPeriod(this.minPeriod),v=t.getPeriodDuration(x.period,x.count);r=this.rotate,s=this.firstDayOfWeek,h=this.boldPeriodBeginning,e=t.resetDateToMin(new Date(i[i.length-1].time+1.05*v),this.minPeriod,1,s).getTime(),this.firstTime=a.firstTime,this.endTime>e&&(this.endTime=e),d=this.minorGridEnabled;var D,T=this.gridAlpha,b=0,y=0;if(this.widthField)for(e=0;e<this.data.length;e++)if(D=this.data[e]){var A=Number(this.data[e].dataContext[this.widthField]);isNaN(A)||(b+=A,D.widthValue=A)}if(this.parseDates&&!this.equalSpacing)this.lastTime=i[i.length-1].time,this.maxTime=t.resetDateToMin(new Date(this.lastTime+1.05*v),this.minPeriod,1,s).getTime(),this.timeDifference=this.endTime-this.startTime,this.parseDatesDraw();else if(this.parseDates){if(this.parseDates&&this.equalSpacing){if(u=this.start,this.startTime=this.data[this.start].time,this.endTime=this.data[this.end].time,this.timeDifference=this.endTime-this.startTime,e=this.choosePeriod(0),c=e.period,r=e.count,e=t.getPeriodDuration(c,r),v>e&&(c=x.period,r=x.count,e=v),o=c,"WW"==o&&(o="DD"),this.stepWidth=this.getStepWidth(m),g=Math.ceil(this.timeDifference/e)+1,v=t.resetDateToMin(new Date(this.startTime-e),c,r,s).getTime(),this.cellWidth=this.getStepWidth(m),x=Math.round(v/e),l=-1,x/2==Math.round(x/2)&&(l=-2,v-=e),x=this.start,x/2==Math.round(x/2)&&x--,0>x&&(x=0),T=this.end+2,T>=this.data.length&&(T=this.data.length),y=!1,y=!p,this.previousPos=-1e3,20<this.labelRotationR&&(this.safeDistance=5),i=x,this.data[x].time!=t.resetDateToMin(new Date(this.data[x].time),c,r,s).getTime())for(s=0,D=v,e=x;T>e;e++)m=this.data[e].time,this.checkPeriodChange(c,r,m,D)&&(s++,s>=2&&(i=e,e=T),D=m);if(d&&r>1&&(m=this.chooseMinorFrequency(r),t.getPeriodDuration(c,m)),0<this.gridCountR)for(e=x;T>e;e++)m=this.data[e].time,this.checkPeriodChange(c,r,m,v)&&e>=i&&(s=this.getCoordinate(e-this.start),d=!1,this.nextPeriod[o]&&(d=this.checkPeriodChange(this.nextPeriod[o],1,m,v,o)),v=!1,d&&this.markPeriodChange?(d=this.dateFormatsObject[this.nextPeriod[o]],v=!0):d=this.dateFormatsObject[o],x=t.formatDate(new Date(m),d,a),(e==l&&!p||e==g&&!f)&&(x=" "),y?y=!1:(h||(v=!1),s-this.previousPos>this.safeDistance*Math.cos(this.labelRotationR*Math.PI/180)&&(this.labelFunction&&(x=this.labelFunction(x,new Date(m),this,c,r,n)),this.boldLabels&&(v=!0),n=new this.axisItemRenderer(this,s,x,void 0,void 0,void 0,void 0,v),d=n.graphics(),this.pushAxisItem(n),d=d.getBBox().width,t.isModern||(d-=s),this.previousPos=s+d)),n=v=m)}}else if(this.cellWidth=this.getStepWidth(m),g>m&&(g=m),u+=this.start,this.stepWidth=this.getStepWidth(m),g>0)for(g=Math.floor(m/g),m=this.chooseMinorFrequency(g),x=u,x/2==Math.round(x/2)&&x--,0>x&&(x=0),i=0,this.end-x+1>=this.autoRotateCount&&(this.labelRotationR=this.autoRotateAngle),e=x;e<=this.end+2;e++){if(h=!1,e>=0&&e<this.data.length?(o=this.data[e],x=o.category,h=o.forceShow):x="",d&&!isNaN(m)){if(e/m!=Math.round(e/m)&&!h)continue;e/g==Math.round(e/g)||h||(this.gridAlpha=this.minorGridAlpha,x=void 0)}else if(e/g!=Math.round(e/g)&&!h)continue;s=this.getCoordinate(e-u),n=0,"start"==this.gridPosition&&(s-=this.cellWidth/2,n=this.cellWidth/2),h=!0,D=n,"start"==this.tickPosition&&(D=0,h=!1,n=0),(e==l&&!p||e==this.end&&!f)&&(x=void 0),Math.round(i/c)!=i/c&&(x=void 0),i++,A=this.cellWidth,r&&(A=NaN,this.ignoreAxisWidth||!a.autoMargins)&&(A="right"==this.position?a.marginRight:a.marginLeft,A-=this.tickLength+10),this.labelFunction&&o&&(x=this.labelFunction(x,o,this)),x=t.fixBrakes(x),v=!1,this.boldLabels&&(v=!0),e>this.end&&"start"==this.tickPosition&&(x=" "),this.rotate&&this.inside&&(n=-2),isNaN(o.widthValue)||(o.percentWidthValue=o.widthValue/b*100,A=this.rotate?this.height*o.widthValue/b:this.width*o.widthValue/b,s=y,y+=A,n=A/2),n=new this.axisItemRenderer(this,s,x,h,A,n,void 0,v,D,!1,o.labelColor,o.className),n.serialDataItem=o,this.pushAxisItem(n),this.gridAlpha=T}for(e=0;e<this.data.length;e++)(D=this.data[e])&&(p=this.parseDates&&!this.equalSpacing?Math.round((D.time-this.startTime)*this.stepWidth+this.cellWidth/2):this.getCoordinate(e-u),isNaN(D.widthValue)||(D.percentWidthValue=D.widthValue/b*100,p=this.rotate?this.height*D.widthValue/b:this.width*D.widthValue/b),D.x[this.id]=p);for(p=this.guides.length,e=0;p>e;e++)f=this.guides[e],h=g=g=d=l=NaN,b=f.above,f.toCategory&&(g=a.getCategoryIndexByValue(f.toCategory),isNaN(g)||(l=this.getCoordinate(g-u),f.expand&&(l+=this.cellWidth/2),n=new this.axisItemRenderer(this,l,"",!0,NaN,NaN,f),this.pushAxisItem(n,b))),f.category&&(h=a.getCategoryIndexByValue(f.category),isNaN(h)||(d=this.getCoordinate(h-u),f.expand&&(d-=this.cellWidth/2),g=(l-d)/2,n=new this.axisItemRenderer(this,d,f.label,!0,NaN,g,f),this.pushAxisItem(n,b))),h=a.dataDateFormat,f.toDate&&(f.toDate=t.getDate(f.toDate,h,this.minPeriod),this.equalSpacing?(g=a.getClosestIndex(this.data,"time",f.toDate.getTime(),!1,0,this.data.length-1),isNaN(g)||(l=this.getCoordinate(g-u))):l=(f.toDate.getTime()-this.startTime)*this.stepWidth,n=new this.axisItemRenderer(this,l,"",!0,NaN,NaN,f),this.pushAxisItem(n,b)),f.date&&(f.date=t.getDate(f.date,h,this.minPeriod),this.equalSpacing?(h=a.getClosestIndex(this.data,"time",f.date.getTime(),!1,0,this.data.length-1),isNaN(h)||(d=this.getCoordinate(h-u))):d=(f.date.getTime()-this.startTime)*this.stepWidth,g=(l-d)/2,h=!0,f.toDate&&(h=!1),n="H"==this.orientation?new this.axisItemRenderer(this,d,f.label,h,2*g,NaN,f):new this.axisItemRenderer(this,d,f.label,!1,NaN,g,f),this.pushAxisItem(n,b)),(l>0||d>0)&&(l<this.width||d<this.width)&&(l=new this.guideFillRenderer(this,d,l,f),d=l.graphics(),this.pushAxisItem(l,b),f.graphics=d,d.index=e,f.balloonText&&this.addEventListeners(d,f))}this.axisCreated=!0,a=this.x,u=this.y,this.set.translate(a,u),this.labelsSet.translate(a,u),this.labelsSet.show(),this.positionTitle(),(a=this.axisLine.set)&&a.toFront(),a=this.getBBox().height,2<a-this.previousHeight&&this.autoWrap&&!this.parseDates&&(this.axisCreated=this.chart.marginsUpdated=!1),this.previousHeight=a},xToIndex:function(i){var e=this.data,a=this.chart,s=a.rotate,h=this.stepWidth;this.parseDates&&!this.equalSpacing?(i=this.startTime+Math.round(i/h)-this.minDuration()/2,a=a.getClosestIndex(e,"time",i,!1,this.start,this.end+1)):(this.startOnAxis||(i-=h/2),a=this.start+Math.round(i/h));var r,a=t.fitToBounds(a,0,e.length-1);return e[a]&&(r=e[a].x[this.id]),s?r>this.height+1&&a--:r>this.width+1&&a--,0>r&&a++,a=t.fitToBounds(a,0,e.length-1)},dateToCoordinate:function(t){return this.parseDates&&!this.equalSpacing?(t.getTime()-this.startTime)*this.stepWidth:this.parseDates&&this.equalSpacing?(t=this.chart.getClosestIndex(this.data,"time",t.getTime(),!1,0,this.data.length-1),this.getCoordinate(t-this.start)):NaN},categoryToCoordinate:function(t){return this.chart?(t=this.chart.getCategoryIndexByValue(t),this.getCoordinate(t-this.start)):NaN},coordinateToDate:function(t){return this.equalSpacing?(t=this.xToIndex(t),new Date(this.data[t].time)):new Date(this.startTime+t/this.stepWidth)},getCoordinate:function(t){return t*=this.stepWidth,this.startOnAxis||(t+=this.stepWidth/2),Math.round(t)}})}();