!function(){var e=null,n=null,l=null,o=null,s=null,i=null,r=null,t=null,a=null,u=null,c=null,d=null,p=null,f=null,m=null,g=null,v=function(){var v=initAnalytics();t.change(function(e){e.preventDefault(),m=$(this).val(),"Gobierno Estatal"!==m?(a.slideDown("slow"),u.attr("required",!0),u.attr("placeholder","Nombre de "+m)):(u.removeAttr("required"),u.removeAttr("placeholder"),a.slideUp("slow"))}),s.on("click",function(o){if(o.preventDefault(),l.parsley().validate()){_signupData=l.serialize();var s=$.ajax({method:"POST",data:_signupData,url:"/home/add"});s.done(function(l){l.success===!0&&(r.fadeOut(900),e.fadeIn("slow",function(){n.animate({scrollTop:"0px"},700)}))}),s.fail(function(e){e.responseJSON.error===!1&&d.slideDown(),"email"===e.responseJSON.error&&p.slideDown()})}v.clickRegisterSignup()}),i.on("click",function(e){if(e.preventDefault(),o.parsley().validate()){g=o.serialize();var n=$.ajax({method:"POST",data:g,url:"/home/loginUsuarios"});n.done(function(e){200===e.code&&(sessionStorage.getItem("result")&&sessionStorage.removeItem("result"),sessionStorage.getItem("place")&&sessionStorage.removeItem("place"),"user"===e.role&&(window.location.href="/capacitacion"),"admin"===e.role&&(window.location.href="/dashboard"))}),n.fail(function(e){400===e.responseJSON.code&&(c.slideDown(),sessionStorage.removeItem("result"))})}v.clickLogin()}),f.on("click",function(e){v.clickRecoverLink()})};n=$("body, html"),l=$(".js-signup-form"),o=$(".js-login-form"),s=$(".js-signup-submit"),i=$(".js-login-submit"),r=$(".js-signup"),e=$(".js-signup-success"),t=$(".js-select-sector"),a=$(".js-dependency-field"),u=$(".js-dependency-name"),c=$(".js-login-error"),d=$(".js-signup-error"),p=$(".js-signup-email-error"),f=$(".js-recover-password"),v()}(jQuery);